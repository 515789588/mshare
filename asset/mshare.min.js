!function(e,i){"function"==typeof define&&define.amd?define(i):e.mshare=i()}(this,function(){function e(e){for(var i,t=1;t<arguments.length;t++)if(i=arguments[t])for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e}function i(e){var i=document.createElement("script"),t=document.getElementsByTagName("body")[0];i.setAttribute("src",e),t.appendChild(i)}function t(t){this.opts={title:document.title,url:location.href,method:"app"},e(this.opts,t),s&&i("//jsapi.qq.com/get?api=app.share"),c&&i("//s.bdstatic.com/common/openjs/aio.js?v="+(new Date).getTime())}function o(e){return new t(e)}var n={QZONE:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",WEIBO:"http://service.weibo.com/share/share.php"},r=navigator.appVersion,s=/MQQBrowser/.test(r),a=/UCBrowser/.test(r),c=/baiduboxapp/.test(r),l={weibo:["SinaWeibo","kSinaWeibo",11,"sinaweibo"],weixin:["WechatFriends","kWeixin",1,"weixin_friend"],weixinfriend:["WechatTimeline","kWeixinFriend",8,"weixin_timeline"],qq:["QQ","kQQ",4,"qqfriend"],qzone:["QZone","kQZone",3,"qqdenglu"],all:["","",void 0,"all"]};return t.prototype={constructor:t,shareTo:function(i,t){i=i||"all",t=e({},this.opts,t),"web"===t.method&&/weibo|qzone/.test(i)?this.webShareTo(i,t):a?this.ucShareTo(i,t):s?this.qqShareTo(i,t):c&&this.bdShareTo(i,t)},ucShareTo:function(e,i){a&&("undefined"!=typeof ucweb?ucweb.startRequest("shell.page_share",[i.title,"",i.url,l[e][0],"","",""]):"undefined"!=typeof ucbrowser&&ucbrowser.web_share(i.title,"",i.url,l[e][1],"","",""))},qqShareTo:function(e,i){s&&browser&&browser.app&&browser.app.share({url:i.url,title:i.title,description:"",img_url:i.pic,to_app:l[e][2],cus_txt:i.title})},bdShareTo:function(e,i){if(c&&Box){var t={mediaType:l[e][3],linkUrl:i.url,title:i.title,iconUrl:i.pic||"",content:i.title};Box.os.android?Box.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(t),window.successFnName||"console.log",window.errorFnName||"console.log"]):Box.ios.invokeApp("callShare",{options:encodeURIComponent(JSON.stringify(t)),errorcallback:"onFail",successcallback:"onSuccess"})}},webShareTo:function(e,i){var t;"weibo"===e?t=""+n.WEIBO+"?url="+i.url+"&title="+i.title+"&appkey="+i.weiboAppKey+"&pic="+i.pic:"qzone"===e&&(t=""+n.QZONE+"?url="+i.url+"&title="+i.title+"&pics="+i.pic),window.open(t,"newwindow","width=650,height=500,top=0,left=0")}},{init:o,isqqbrowser:s,isucbrowser:a,isbaidubox:c}});