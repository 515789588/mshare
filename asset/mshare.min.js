!function(e,i){"function"==typeof define&&define.amd?define(i):e.mshare=i()}(this,function(){function e(e){for(var i,o=1;o<arguments.length;o++)if(i=arguments[o])for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function i(e){var i=document.createElement("script"),o=document.getElementsByTagName("body")[0];i.setAttribute("src",e),o.appendChild(i)}function o(o){this.opts={title:document.title,url:location.href,method:"app"},e(this.opts,o),s&&i("//jsapi.qq.com/get?api=app.share"),c&&i("//s.bdstatic.com/common/openjs/aio.js?v="+(new Date).getTime())}function t(e){return new o(e)}var n={QZONE:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",WEIBO:"http://service.weibo.com/share/share.php"},r=navigator.appVersion,s=/MQQBrowser/.test(r),a=/UCBrowser/.test(r),c=/baiduboxapp/.test(r),l={weibo:["SinaWeibo","kSinaWeibo",11,"sinaweibo"],weixin:["WechatFriends","kWeixin",1,"weixin_friend"],weixinfriend:["WechatTimeline","kWeixinFriend",8,"weixin_timeline"],qq:["QQ","kQQ",4,"qqfriend"],qzone:["QZone","kQZone",3,"qqdenglu"],all:["","",void 0,"all"]};return o.prototype={constructor:o,shareTo:function(i,o){i=i||"all",o=e({},this.opts,o),"web"===o.method&&/weibo|qzone/.test(i)?this.webShareTo(i,o):a?this.ucShareTo(i,o):s?this.qqShareTo(i,o):c&&this.bdShareTo(i,o)},ucShareTo:function(e,i){a&&("undefined"!=typeof ucweb?ucweb.startRequest("shell.page_share",[i.title,i.pic,i.url,l[e][0],"","",""]):"undefined"!=typeof ucbrowser&&ucbrowser.web_share(i.title,i.pic,i.url,l[e][1],"","",""))},qqShareTo:function(e,i){s&&browser&&browser.app&&browser.app.share({url:i.url,title:i.title,description:i.summary,img_url:i.pic,to_app:l[e][2],cus_txt:"请输入此时此刻想要分享的内容"})},bdShareTo:function(e,i){if(c&&Box){var o={mediaType:l[e][3],linkUrl:i.url,title:i.title,iconUrl:i.pic,content:i.summary};Box.os.android?Box.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(o),window.successFnName||"console.log",window.errorFnName||"console.log"]):Box.ios.invokeApp("callShare",{options:encodeURIComponent(JSON.stringify(o)),errorcallback:"onFail",successcallback:"onSuccess"})}},webShareTo:function(e,i){var o;"weibo"===e?o=""+n.WEIBO+"?url="+i.url+"&title="+i.title+"&appkey="+i.weiboAppKey+"&pic="+i.pic:"qzone"===e&&(o=""+n.QZONE+"?url="+i.url+"&title="+i.title+"&summary="+i.summary+"&desc="+i.desc+"&pics="+i.pic),window.open(o,"newwindow","width=650,height=500,top=0,left=0")}},{init:t,isqqbrowser:s,isucbrowser:a,isbaidubox:c}});